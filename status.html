<!DOCTYPE html>
<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>Weimarnetz - OLSR Status</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Unknown" >

    <!-- Le styles -->
    <link href="css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
    </style>
    <link href="css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="img/favicon.ico">
    <link rel="apple-touch-icon" href="http://twitter.github.com/bootstrap/examples/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="http://twitter.github.com/bootstrap/examples/images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="http://twitter.github.com/bootstrap/examples/images/apple-touch-icon-114x114.png">
  </head>

  <body>
<script type="text/javascript">
    
    function getElement(aID)
    {
        return (document.getElementById) ?
            document.getElementById(aID) :document.all[aID];
    }

    function getIFrameDocument(aID){ 
        var rv = null; 
        var frame=getElement(aID);
        // if contentDocument exists, W3C compliant (e.g. Mozilla) 
        if (frame.contentDocument)
            rv = frame.contentDocument;
        else // bad Internet Explorer  ;)
            rv = document.frames[aID].document;
        return rv;
    }

    function adjustMyFrameHeight()
    {
        var frame = getElement("myFrame");
        var frameDoc = getIFrameDocument("myFrame");
        frame.height = frameDoc.body.offsetHeight;
    }
</script>

<div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="./index.html">Weimarnetz Rootserver</a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="./index.html">Home</a></li>
              <li class="dropdown">
						<a href="wiki.html" data-target="#"	class="dropdown-toggle"	data-toggle="dropdown">Informationen <b class="caret"></b></a>
						<ul class="dropdown-menu">
				  			<li>><a href="./wiki.html">Wiki</a></li>
							<li><a href="./news.html" >Newsserver</a></li>
							<li>><a href="./termsofuse.html" >Nutzungsbedingungen</a></li>
							<li>><a href="./picopeering.html" >Picopeering Aggreement</a></li>
						</ul>
					</li>
					<li class="dropdown">
						<a href="map.html" data-target="#"	class="dropdown-toggle"	data-toggle="dropdown">Karten <b class="caret"></b></a>
						<ul class="dropdown-menu">
							<li><a href="./map.html">Geographische Karte</a></li>
							<li><a href="./topology.html">Topologische Karte</a></li>
						</ul>					
					</li>
				   <li class="dropdown">
				   	<a href="status.html"	data-target="#" class="dropdown-toggle"	data-toggle="dropdown">Status <b class="caret"></b></a>
				   	<ul class="dropdown-menu">
				  			<li><a href="./status.html" >OLSR Status</a></li> 	
				  			<li><a href="./monitoring.html" >Monitoring</a></li>
				  			</ul>
				   </li>
              <li class="divider-vertical"></li>
               <ul class="nav pull-right">         
              	<li><a href="./about.html">Über</a></li>
              	</ul>
              	<li class="dropdown">
				   	<a href="impressum.html" data-target="#" class="dropdown-toggle"	data-toggle="dropdown">Impressum <b class="caret"></b></a>
				   	<ul class="dropdown-menu">
				   	<li><a href="./impressum.html">Impressum</a></li>
              	<li><a href="./contact.html">Kontakt</a></li>
              	</ul>
              </ul>
            
          </div>
        </div>
      </div>
    </div>
    
    <noscript><div class="container">
    <div class="alert alert-error">
    <strong>Achtung!</strong> Bitte aktiviere Javascript in Deinem Browser, um diese Website vollständig nutzen zu können.
    </div>
    </div></noscript>
  <h1>OLSR Status des Weimarnetz</h1>


  <script type="text/javascript" src="./js/cbi.js"></script>
<script type="text/javascript">//<![CDATA[                         
                                                                   
        XHR.poll(10 , '<%=REQUEST_URI%>', { status: 1 },           
                function(x, info)                                  
                {                                                  
                var nt = document.getElementById('olsr_neigh_table');
                        if (nt)                                      
                        {                                            
                                var s = '';                          
                                for (var idx = 0; idx < info.length; idx++)
                                {                                          
                                        var neigh = info[idx];             
                                                                           
                                        s += String.format(                
                                                '<tr class="cbi-section-table-row cbi-rowstyle-'+(1 + (idx % 2))+'">' +
                                                        '<td class="cbi-section-table-cell" style="background-color:%s"><a href="http://%s/cgi-bin-status.html">%s</a></td>',
                                                neigh.dfgcolor, neigh.rip, neigh.rip                                                                                         
                                                );                                                                                                                           
                                        if (neigh.hn) {                                                                                                                      
                                                s += String.format(                                                                                                          
                                                        '<td class="cbi-section-table-cell" style="background-color:%s"><a href="http://%s/cgi-bin-status.html">%s</a></td>',
                                                        neigh.dfgcolor, neigh.hn, neigh.hn                                                                                   
                                                        );                                                                                                                   
                                                }                                                                                                                            
                                        else    {                                                                                                                            
                                                s += String.format(                                                                                                          
                                                        '<td class="cbi-section-table-cell" style="background-color:%s">?</td>',                                             
                                                        neigh.dfgcolor                                                                                                       
                                                        );                                                                                                                   
                                                }                                                                                                                            
                                        s += String.format(                                                                                                                  
                                                        '<td class="cbi-section-table-cell" style="background-color:%s">%s</td>' +                                           
                                                        '<td class="cbi-section-table-cell" style="background-color:%s">%s</td>' +                                           
                                                        '<td class="cbi-section-table-cell" style="background-color:%s">%s</td>' +                                           
                                                        '<td class="cbi-section-table-cell" style="background-color:%s">%s</td>' +                                           
                                                        '<td class="cbi-section-table-cell" style="background-color:%s">%s</td>' +                                           
                                                '</tr>',                                                                                                                     
                                                                                                                                                                             
                                                        neigh.dfgcolor, neigh.lip, neigh.dfgcolor, neigh.dev, neigh.dfgcolor, neigh.lq, neigh.dfgcolor, neigh.nlq, neigh.color, neigh.cost || '?'
                                                );                                                                                                                                               
                                }                                                                                                                                                                
                                                                                                                                                                                                 
                                nt.innerHTML = s;                                                                                                                                                
                        }                                                                                                                                                                        
                }                                                                                                                                                                                
        );                                                                                                                                                                                       
//]]></script>

<h2><a id="content" name="content"><%:OLSR connections%></a></h2>                                                                                                                                
                                                                                                                                                                                                 
<fieldset class="cbi-section">                                                                                                                                               
        <legend><%:Overview of currently established OLSR connections%></legend>                                                                                                                 
                                                                                                                                                                                                 
        <table class="cbi-section-table">                                                                                                                                    
                <thead>                                                                                                                                                                          
                        <tr class="cbi-section-table-titles">                                                                                                                                    
                                <th class="cbi-section-table-cell"><%:Neighbour IP%></th>                                                                                                        
                                <th class="cbi-section-table-cell"><%:Hostname%></th>                                                                                                            
                                <th class="cbi-section-table-cell"><%:Local interface IP%></th>                                                                              
                                <th class="cbi-section-table-cell"><%:Device%></th>                                                                                          
                                <th class="cbi-section-table-cell">LQ</th>                                                                                                                       
                                <th class="cbi-section-table-cell">NLQ</th>                                                                                                                      
                                <th class="cbi-section-table-cell">ETX</th>                                                                                                                      
                        </tr>                                                                                                                                                                    
                </thead>                                                                                                                                                     
                                                                                                                                                                                                 
                <tbody id="olsr_neigh_table">
                
                
                <%      local i = 1                                                                                                                                                              
                        for k, link in ipairs(links) do                                                                                                                                          
                        link.Cost = tonumber(link.Cost) or 0                                                                                                                                     
                        color = olsrtools.etx_color(link.Cost)                                                                                                               
                                                                                                                                                                             
                        defaultgw_color = ""                                                                                                                                                     
                        if link.defaultgw == 1 then                                                                                                                                              
                                defaultgw_color = "#ffff99"                                                                                                                                      
                        end                                                                                                                                                                      
                %>                                                                                                                                                                               
                                                                                                                                                                                                 
                <tr class="cbi-section-table-row cbi-rowstyle-<%=i%>">                                                                                                                           
                        <td class="cbi-section-table-cell" style="background-color:<%=defaultgw_color%>"><a href="http://<%=link["Remote IP"]%>/cgi-bin-status.html"><%=link["Remote IP"]%></a></td>
                        <td class="cbi-section-table-cell" style="background-color:<%=defaultgw_color%>"><a href="http://<%=link["Hostname"]%>/cgi-bin-status.html"><%=link["Hostname"]%></a></td>  
                        <td class="cbi-section-table-cell" style="background-color:<%=defaultgw_color%>"><%=link["Local IP"]%></td>                                                                 
                        <td class="cbi-section-table-cell" style="background-color:<%=defaultgw_color%>"><%=link["Local Device"]%></td>                                                             
                        <td class="cbi-section-table-cell" style="background-color:<%=defaultgw_color%>"><%=link.LQ%></td>                                                                          
                        <td class="cbi-section-table-cell" style="background-color:<%=defaultgw_color%>"><%=link.NLQ%></td>                                                                         
                        <td class="cbi-section-table-cell" style="background-color:<%=color%>"><%=string.format("%.3f", link.Cost)%></td>                                                           
                </tr>                                                                                                                                                                             
                <%                                                                                                                                                                               
                        i = ((i % 2) + 1)                                                                                                                                                           
                end %>                                                                                                                                                                              
                </tbody>                                                                                                                                                                            
        </table>                                                                                                                                                                                    
<br />                                                                                                                                                                                            
                                                                                                                                                                                                    
<h3>Legende:</h3>                                                                                                                                                                               
<ul>                                                                                                                                                                                              
        <li><strong>LQ: </strong><%:Success rate of packages received from the neighbour%></li>                                                                                                     
        <li><strong>NLQ: </strong><%:Success rate of packages sent to the neighbour%></li>                                                                                                          
        <li><strong>ETX: </strong><%:Expected retransmission count%></li>                                                                                                                           
</ul>                                                                                                                                                                                               
</fieldset>

    	
<br />
<br />
<div class="container">
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/de/"><img alt="Creative Commons Lizenzvertrag" style="border-width:0" src="img/cc.png" /></a><br /><span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">Homepage Weimarnetz e.V.</span> von <span xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName">Weimarnetz e.V.</span> steht unter einer <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/de/">Creative Commons Namensnennung-Nicht-kommerziell-Weitergabe unter gleichen Bedingungen 3.0 Deutschland Lizenz</a>.<br />Beruht auf einem Inhalt unter <a xmlns:dct="http://purl.org/dc/terms/" href="http://www.weimarnetz.de" rel="dct:source">www.weimarnetz.de</a>
</div>


<!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
	 <script src="js/jquery.js"></script>    
    <script src="js/bootstrap-collapse.js"></script>
    <script src="js/bootstrap-dropdown.js"></script>

</body></html>